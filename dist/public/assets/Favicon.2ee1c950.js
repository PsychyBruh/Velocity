import{c as l,k as g,J as i,K as f,n as u,w as b,H as w,t as d}from"./index.596163ac.js";import{B as v}from"./BareClient.06787bc0.js";const m=d('<div class="w-full h-full bg-cover bg-no-repeat"></div>');function R(t){const[s,r]=l(/^data:/.test(t.src())?void 0:t.src());return g(()=>{const e=new AbortController;if(/^data:/.test(t.src()))return r(t.src());try{new URL(t.src())}catch{return}if(new URL(t.src()).origin===location.origin)return r(t.src());if(!i()){const n=typeof window.__uv$config.bare=="string"?window.__uv$config.bare:window.__uv$config.bare[Math.floor(Math.random()*window.__uv$config.bare.length)];f(new v(new URL(n,location.toString())))}const a=(async()=>{try{const o=await(await i().fetch(t.src(),{signal:e.signal})).blob();if(!/image/.test(o.type))r("/icons/earth.svg");else{const c=URL.createObjectURL(o);return r(c),c}}catch{}})();u(()=>{e.abort(),a?.then(n=>n?URL.revokeObjectURL(n):null)})}),(()=>{const e=m.cloneNode(!0);return b(a=>w(e,`background-image: url("${s()}")`,a)),e})()}export{R as F};
